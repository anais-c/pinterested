{"filter":false,"title":"user.rb","tooltip":"~/depot/app/models/user.rb","undoManager":{"stack":[[{"start":{"row":2,"column":21},"end":{"row":3,"column":0},"action":"insert","lines":["",""],"id":54},{"start":{"row":3,"column":0},"end":{"row":3,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":3,"column":2},"end":{"row":4,"column":0},"action":"insert","lines":["",""],"id":55},{"start":{"row":4,"column":0},"end":{"row":4,"column":2},"action":"insert","lines":["  "]}],[{"start":{"row":4,"column":2},"end":{"row":11,"column":12},"action":"insert","lines":["  after_destroy :ensure_an_admin_remains","","  private","    def ensure_an_admin_remains","      if User.count.zero?","        raise \"Can't delete last user\"","      end","    end     "],"id":56}],[{"start":{"row":4,"column":2},"end":{"row":4,"column":4},"action":"remove","lines":["  "],"id":57}]],"mark":3,"position":3},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":4,"column":2},"end":{"row":4,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1431081966694,"hash":"7edb413e06e5c4776ba5c302c060541729f538d3"}